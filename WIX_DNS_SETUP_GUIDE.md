# Wix DNS設定ガイド（画面操作手順）

## 🎯 目的
Wixで管理している `fvnix.com` のDNSに、Cloudflare Pages用のCNAMEレコードを追加します。

---

## 📋 必要情報

| 項目 | 値 |
|------|-----|
| **ドメイン名** | fvnix.com |
| **サブドメイン** | app.fvnix.com |
| **レコードタイプ** | CNAME |
| **ホスト名** | app |
| **ターゲット** | fvnix.pages.dev |
| **TTL** | 3600（または Auto） |

---

## 🖥️ Wix画面操作手順（詳細）

### ステップ1: Wixダッシュボードにログイン

1. ブラウザで以下のURLを開く：
   ```
   https://manage.wix.com/
   ```

2. Wixアカウントでログイン
   - メールアドレスとパスワードを入力
   - または SNS連携でログイン

---

### ステップ2: ドメイン管理画面を開く

#### 方法A: サイドバーから
```
左サイドバー
  └─ 設定（⚙アイコン）
      └─ ドメイン
```

#### 方法B: 上部メニューから
```
上部メニュー
  └─ 設定
      └─ ドメイン管理
```

---

### ステップ3: fvnix.com を選択

ドメイン一覧画面が表示されます：

```
┌────────────────────────────────────────────┐
│ マイドメイン                                │
├────────────────────────────────────────────┤
│                                            │
│ ○ fvnix.com                   [接続済み]   │
│   └─ www.fvnix.com                        │
│                                            │
│ ○ その他のドメイン...                      │
│                                            │
└────────────────────────────────────────────┘
```

1. **fvnix.com** をクリック
2. ドメイン詳細画面が開きます

---

### ステップ4: DNS設定画面を開く

ドメイン詳細画面で以下のボタンを探す：

```
┌────────────────────────────────────────────┐
│ fvnix.com                                  │
├────────────────────────────────────────────┤
│                                            │
│ ドメインステータス: ✅ 接続済み             │
│                                            │
│ [DNS設定を編集]  [ネームサーバー設定]      │
│                                            │
└────────────────────────────────────────────┘
```

**クリック:** 「**DNS設定を編集**」または「**詳細設定**」

---

### ステップ5: 現在のDNSレコードを確認

DNS設定画面が表示されます：

```
┌───────────────────────────────────────────────────┐
│ DNS設定 - fvnix.com                               │
├───────────────────────────────────────────────────┤
│                                                   │
│ 現在のレコード:                                   │
│ ┌─────────────────────────────────────────────┐ │
│ │ タイプ │ ホスト │ 値              │ TTL     │ │
│ ├────────┼────────┼─────────────────┼─────────┤ │
│ │ A      │ @      │ 23.236.62.147   │ 3600    │ │
│ │ CNAME  │ www    │ fvnix.wixsite...│ 3600    │ │
│ │ MX     │ @      │ mx.wix.com      │ 3600    │ │
│ │ TXT    │ @      │ v=spf1...       │ 3600    │ │
│ └─────────────────────────────────────────────┘ │
│                                                   │
│ [＋ レコードを追加]                                │
│                                                   │
└───────────────────────────────────────────────────┘
```

---

### ステップ6: CNAMEレコードを追加

1. **「＋ レコードを追加」** ボタンをクリック

2. 新しいレコード追加フォームが表示されます：

```
┌───────────────────────────────────────────────────┐
│ 新しいDNSレコードを追加                            │
├───────────────────────────────────────────────────┤
│                                                   │
│ レコードタイプ:                                   │
│ [A        ▼]  ← ここをクリックして「CNAME」を選択 │
│                                                   │
│ ホスト名:                                         │
│ [____________]  ← 「app」を入力                   │
│                                                   │
│ 指す先（値）:                                      │
│ [____________]  ← 「fvnix.pages.dev」を入力       │
│                                                   │
│ TTL:                                              │
│ [3600________]  ← そのまま（または Auto）          │
│                                                   │
│               [キャンセル] [保存]                  │
│                                                   │
└───────────────────────────────────────────────────┘
```

#### 入力内容の確認：

| フィールド | 入力値 | 重要ポイント |
|-----------|--------|--------------|
| **レコードタイプ** | `CNAME` | ドロップダウンから選択 |
| **ホスト名** | `app` | **注意:** `app.fvnix.com` ではなく `app` のみ |
| **指す先（値）** | `fvnix.pages.dev` | **注意:** 末尾に `.` を付けない |
| **TTL** | `3600` | デフォルト値のまま |

---

### ステップ7: 入力内容を確認して保存

1. 入力内容を再確認：
   ```
   レコードタイプ: CNAME
   ホスト名:       app
   値:            fvnix.pages.dev
   TTL:           3600
   ```

2. **「保存」** ボタンをクリック

3. 確認メッセージが表示されたら **「OK」** をクリック

---

### ステップ8: 設定完了を確認

DNS設定画面に戻り、新しいレコードが追加されたことを確認：

```
┌───────────────────────────────────────────────────┐
│ DNS設定 - fvnix.com                               │
├───────────────────────────────────────────────────┤
│                                                   │
│ 現在のレコード:                                   │
│ ┌─────────────────────────────────────────────┐ │
│ │ タイプ │ ホスト │ 値              │ TTL     │ │
│ ├────────┼────────┼─────────────────┼─────────┤ │
│ │ A      │ @      │ 23.236.62.147   │ 3600    │ │
│ │ CNAME  │ www    │ fvnix.wixsite...│ 3600    │ │
│ │ CNAME  │ app    │ fvnix.pages.dev │ 3600    │ │  ← 追加された！
│ │ MX     │ @      │ mx.wix.com      │ 3600    │ │
│ └─────────────────────────────────────────────┘ │
│                                                   │
└───────────────────────────────────────────────────┘
```

**✅ 成功:** 新しいCNAMEレコード（`app → fvnix.pages.dev`）が表示されていれば完了です！

---

## ⏱️ DNS伝播待ち（10分～24時間）

設定保存後、DNSが世界中に伝播するまで待ちます。

### 伝播状況の確認方法

#### 方法1: コマンドライン（推奨）
```bash
nslookup app.fvnix.com
```

**成功例:**
```
Server:  dns.google
Address: 8.8.8.8

Non-authoritative answer:
app.fvnix.com   canonical name = fvnix.pages.dev
```

#### 方法2: オンラインツール
1. https://dnschecker.org/ を開く
2. 「app.fvnix.com」を入力
3. Record Type: **CNAME** を選択
4. 「Search」をクリック
5. 世界各地で「fvnix.pages.dev」が返されることを確認

---

## 🚨 よくあるエラーと対処法

### エラー1: 「このホスト名は既に使用されています」

**原因:** `app` というホスト名で既にレコードが存在

**対処法:**
1. 既存のレコードを確認
2. `app` のレコードを削除
3. 再度CNAMEレコードを追加

---

### エラー2: 「無効な値です」

**原因:** ターゲット（値）の入力ミス

**よくある間違い:**
- ❌ `fvnix.pages.dev.` （末尾に `.` がある）
- ❌ `https://fvnix.pages.dev` （https:// が付いている）
- ✅ `fvnix.pages.dev` （正しい）

---

### エラー3: DNS設定画面が見つからない

**対処法:**
1. Wixサポートに問い合わせ
2. または、以下のURLから直接アクセス:
   ```
   https://www.wix.com/my-account/domains/
   ```

---

## 📊 設定前後の比較

### 設定前
```
https://fvnix.com          → Wixサイト ✅
https://app.fvnix.com      → 接続できない ❌
```

### 設定後（DNS伝播完了）
```
https://fvnix.com          → Wixサイト ✅
https://app.fvnix.com      → Cloudflare Pages ✅
```

---

## 🎉 次のステップ

Wix側の設定が完了したら：

1. **Cloudflare Pages側の設定を完了**
   - `CLOUDFLARE_CUSTOM_DOMAIN_SETUP.md` を参照

2. **DNS伝播を待つ**（10分～24時間）

3. **動作確認**
   ```bash
   DOMAIN=app.fvnix.com bash /tmp/check_custom_domain.sh
   ```

4. **ブラウザで確認**
   ```
   https://app.fvnix.com/
   ```

---

## 📞 サポート

### Wixサポート
- ヘルプセンター: https://support.wix.com/ja/
- DNSヘルプ: https://support.wix.com/ja/article/外部サイトをwixドメインに接続する
- 電話サポート: Wixダッシュボードから利用可能

### Cloudflareサポート
- ドキュメント: https://developers.cloudflare.com/pages/
- コミュニティ: https://community.cloudflare.com/

---

**作成日:** 2026年1月9日  
**対象ドメイン:** fvnix.com  
**サブドメイン:** app.fvnix.com
